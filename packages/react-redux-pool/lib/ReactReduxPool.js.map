{"version":3,"file":"ReactReduxPool.js","sourceRoot":"","sources":["../src/ReactReduxPool.tsx"],"names":[],"mappings":";;AAAA,6BAA8B;AAC9B,2CAAsC;AAStC,SAAwB,cAAc,CAAC,IAAW,EAAE,UAA+D;IAA/D,2BAAA,EAAA,uBAAiD,MAAM,IAAI,OAAA,IAAI,EAAJ,CAAI;IACjH,IAAM,MAAM,GAA8B;QACxC,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QAC9C,OAAO,oBAAC,sBAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,IAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAY,CAAA;IACzE,CAAC,CAAA;IAED,IAAM,cAAc,GAAoB,EAAqB,CAAA;IAE7D,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAA;IAErG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,OAAO;QAC/B,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,OAAO,EAAE;YAC7C,GAAG;gBACD,OAAO,IAAI,CAAC,OAAsB,CAAC,CAAA;YACrC,CAAC;YACD,UAAU,EAAE,IAAI;SACjB,CAAC,CAAA;IACJ,CAAC,CAAC,CAAA;IAEF,OAAO,cAAc,CAAA;AACvB,CAAC;AApBD,iCAoBC","sourcesContent":["import * as React from 'react'\nimport { Provider } from 'react-redux'\nimport { IPool, TPoolProps } from '@duckness/pool'\n\nexport type IReactReduxPool = {\n  render: () => JSX.Element\n} & {\n  [poolAPIKey in keyof IPool]: IPool[poolAPIKey]\n}\n\nexport default function ReactReduxPool(pool: IPool, renderRoot: (props: TPoolProps) => JSX.Element = _props => null) {\n  const render: IReactReduxPool['render'] = function () {\n    if (null == pool.store) pool.build(pool.props)\n    return <Provider store={pool.store}>{renderRoot(pool.props)}</Provider>\n  }\n\n  const reactReduxPool: IReactReduxPool = {} as IReactReduxPool\n\n  Object.defineProperty(reactReduxPool, 'render', { value: render, writable: false, enumerable: true })\n\n  Object.keys(pool).forEach(poolKey => {\n    Object.defineProperty(reactReduxPool, poolKey, {\n      get() {\n        return pool[poolKey as keyof IPool]\n      },\n      enumerable: true\n    })\n  })\n\n  return reactReduxPool\n}\n"]}