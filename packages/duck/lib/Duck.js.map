{"version":3,"file":"Duck.js","names":["Duck","duckName","poolName","duckContext","refDuckContext","current","duckFace","typedReducers","customReducers","duck","state","action","actionReducers","type","reducedState","reducers","length","reduce","reducer","customReducer","indexOf","Object","defineProperty","value","writable","enumerable","configurable","addActionTypes","addActionConstructors","addSelectors","addReducers","addCloning","addContextUpdate","mapActionType","actionType","fullActionType","substring","actionTypes","listActionTypes","keys","actionConstructor","actionName","constructAction","payload","isError","Error","payloadBuilder","error","actionTransformer","selectors","selectorName","selector","selectorWithContext","args","apply","push","clonedDuck","forEach","duckActionType","select","originalSelector","reducerActionType","newDuckContext"],"sources":["../src/Duck.js"],"sourcesContent":["export default function Duck(duckName, poolName, duckContext) {\n  // updatable duck context\n  const refDuckContext = {\n    current: duckContext\n  }\n\n  // DUCK FACE is interface to duck received by selectors and reducers\n  const duckFace = {\n    /*\n    actionTypes\n    mapActionType\n    listActionTypes\n    select\n    action\n    reduce\n    duckName\n    poolName\n    duckContext\n    */\n  }\n\n  // Duck is root reducer\n  const typedReducers = {}\n  const customReducers = []\n  const duck = function duckRootReducer(state, action) {\n    var actionReducers = typedReducers[action.type]\n    var reducedState =\n      null == actionReducers || 0 === actionReducers.reducers.length\n        ? state\n        : 1 === actionReducers.reducers.length\n        ? actionReducers.reducers[0](state, action, duckFace)\n        : actionReducers.reducers.reduce((state, reducer) => {\n            const reducedState = reducer(state, action, duckFace)\n            return null == reducedState ? state : reducedState\n          }, state)\n\n    return customReducers.length\n      ? customReducers.reduce((state, customReducer) => {\n          if (\n            (null == customReducer[0] && 0 === action.type.indexOf(`${poolName || ''}/${duckName || ''}/`)) ||\n            ('function' === typeof customReducer[0] && customReducer[0](action, duckFace))\n          ) {\n            const reducedState = customReducer[1](state, action, duckFace)\n            return null == reducedState ? state : reducedState\n          } else {\n            return state\n          }\n        }, reducedState)\n      : reducedState\n  }\n\n  // Duck attributes\n  Object.defineProperty(duck, 'duckFace', { value: duckFace, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'duckName', { value: duckName, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'poolName', { value: poolName, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'duckContext', {\n    value: refDuckContext.current,\n    writable: false,\n    configurable: true,\n    enumerable: true\n  })\n\n  // duckFace attributes\n  Object.defineProperty(duckFace, 'reduce', { value: duck, writable: false, enumerable: true })\n  Object.defineProperty(duckFace, 'duckName', { value: duckName, writable: false, enumerable: true })\n  Object.defineProperty(duckFace, 'poolName', { value: poolName, writable: false, enumerable: true })\n  Object.defineProperty(duckFace, 'duckContext', {\n    value: refDuckContext.current,\n    writable: false,\n    configurable: true,\n    enumerable: true\n  })\n\n  // add functionality\n  addActionTypes(duck, duckFace, duckName, poolName)\n  addActionConstructors(duck, duckFace)\n  addSelectors(duck, duckFace)\n  addReducers(duck, typedReducers, customReducers)\n  addCloning(duck, typedReducers, customReducers)\n  addContextUpdate(duck, duckFace, refDuckContext)\n\n  return duck\n}\n\n// ---- ACTION TYPES -------------------------------------------------------------------------\n\nfunction addActionTypes(duck, duckFace, duckName, poolName) {\n  const actionTypes = {}\n  function mapActionType(actionType) {\n    const fullActionType = `${poolName || ''}/${duckName || ''}/${actionType}`\n    return '@@' === actionType.substring(0, 2)\n      ? fullActionType\n      : actionTypes[actionType] ||\n          Object.defineProperty(actionTypes, actionType, {\n            value: fullActionType,\n            writable: false,\n            enumerable: true\n          })[actionType]\n  }\n  function listActionTypes() {\n    return Object.keys(actionTypes)\n  }\n\n  Object.defineProperty(duck, 'actionTypes', { value: actionTypes, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'mapActionType', { value: mapActionType, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'listActionTypes', { value: listActionTypes, writable: false, enumerable: true })\n\n  Object.defineProperty(duckFace, 'actionTypes', { value: actionTypes, writable: false, enumerable: true })\n  Object.defineProperty(duckFace, 'mapActionType', { value: mapActionType, writable: false, enumerable: true })\n  Object.defineProperty(duckFace, 'listActionTypes', { value: listActionTypes, writable: false, enumerable: true })\n}\n\n// ---- ACTION CONSTRUCTORS -------------------------------------------------------------------------\n\nfunction addActionConstructors(duck, duckFace) {\n  function actionConstructor(actionName, actionType = actionName, payloadBuilder, actionTransformer) {\n    if ('string' !== typeof actionType || !actionType) {\n      throw new Error('@duckness/duck.action: - actionType must be a non empty String')\n    }\n    const fullActionType = duck.mapActionType(actionType)\n    function constructAction(payload) {\n      const isError = payload instanceof Error\n      const action = {\n        type: fullActionType,\n        payload: !isError && payloadBuilder ? payloadBuilder(payload, duckFace) : payload,\n        error: isError\n      }\n      return actionTransformer ? actionTransformer(action, duckFace) : action\n    }\n    Object.defineProperty(constructAction, 'actionType', { value: fullActionType, writable: false, enumerable: true })\n    Object.defineProperty(constructAction, 'duckActionType', { value: actionType, writable: false, enumerable: true })\n    Object.defineProperty(constructAction, 'payloadBuilder', {\n      value: payloadBuilder,\n      writable: false,\n      enumerable: true\n    })\n    Object.defineProperty(constructAction, 'actionTransformer', {\n      value: actionTransformer,\n      writable: false,\n      enumerable: true\n    })\n\n    if (actionName && 'string' === typeof actionName) {\n      Object.defineProperty(constructAction, 'actionName', { value: actionName, writable: false, enumerable: true })\n      Object.defineProperty(actionConstructor, actionName, {\n        value: constructAction,\n        writable: false,\n        enumerable: true\n      })\n    }\n    return constructAction\n  }\n\n  Object.defineProperty(duck, 'action', { value: actionConstructor, writable: false, enumerable: true })\n\n  Object.defineProperty(duckFace, 'action', { value: actionConstructor, writable: false, enumerable: true })\n}\n\n// ---- SELECTORS -------------------------------------------------------------------------\n\nfunction addSelectors(duck, duckFace) {\n  const selectors = {}\n  function addSelector(selectorName, selector) {\n    if ('function' === typeof selector) {\n      const selectorWithContext = function (...args) {\n        return selector.apply(this, [...args, duckFace])\n      }\n      Object.defineProperty(selectorWithContext, 'originalSelector', {\n        value: selector,\n        writable: false,\n        enumerable: true\n      })\n      if (selectorName) {\n        Object.defineProperty(selectorWithContext, 'selectorName', {\n          value: selectorName,\n          writable: false,\n          enumerable: true\n        })\n        Object.defineProperty(selectors, selectorName, {\n          value: selectorWithContext,\n          writable: false,\n          enumerable: true\n        })\n      }\n      return selectorWithContext\n    } else {\n      throw new Error('@duckness/duck.selector: - selector must be a Function')\n    }\n  }\n  Object.defineProperty(duck, 'selector', { value: addSelector, writable: false, enumerable: true })\n  Object.defineProperty(duck, 'select', { value: selectors, writable: false, enumerable: true })\n\n  Object.defineProperty(duckFace, 'select', { value: selectors, writable: false, enumerable: true })\n}\n\n// ---- REDUCERS -------------------------------------------------------------------------\n\nfunction addReducers(duck, typedReducers, customReducers) {\n  function addReducer(actionType, reducer) {\n    if ('function' === typeof reducer) {\n      if ('string' === typeof actionType) {\n        const fullActionType = duck.mapActionType(actionType)\n        if (!typedReducers[fullActionType]) {\n          typedReducers[fullActionType] = {\n            actionType,\n            reducers: []\n          }\n        }\n        typedReducers[fullActionType].reducers.push(reducer)\n      } else if ('function' === typeof actionType) {\n        customReducers.push([actionType, reducer])\n      } else if (null == actionType) {\n        customReducers.push([null, reducer])\n      } else {\n        throw new Error('@duckness/duck.reducer: actionType must be a String, null or Function')\n      }\n      return reducer\n    } else {\n      throw new Error('@duckness/duck.reducer: reducer must be a Function')\n    }\n  }\n  Object.defineProperty(duck, 'reducer', { value: addReducer, writable: false, enumerable: true })\n}\n\n// ---- CLONING --------------------------------------------------------------------------\n\nfunction addCloning(duck, typedReducers, customReducers) {\n  function cloneDuck(duckName, poolName, duckContext) {\n    const clonedDuck = Duck(duckName, poolName, duckContext)\n    // clone action types\n    duck.listActionTypes().forEach(function (actionType) {\n      clonedDuck.mapActionType(actionType)\n    })\n\n    // clone action constructors\n    Object.keys(duck.action).forEach(actionName => {\n      const actionConstructor = duck.action[actionName]\n      if ('function' === typeof actionConstructor && actionConstructor.actionType) {\n        clonedDuck.action(actionName, actionConstructor.duckActionType)\n      }\n    })\n\n    // clone selectors\n    Object.keys(duck.select).forEach(selectorName => {\n      if (duck.select[selectorName].originalSelector) {\n        clonedDuck.selector(selectorName, duck.select[selectorName].originalSelector)\n      }\n    })\n\n    // clone reducers\n    Object.keys(typedReducers).forEach(reducerActionType => {\n      const actionReducers = typedReducers[reducerActionType]\n      if (actionReducers) {\n        const { actionType, reducers } = actionReducers\n        reducers.forEach(reducer => {\n          clonedDuck.reducer(actionType, reducer)\n        })\n      }\n    })\n    customReducers.forEach(customReducer => {\n      clonedDuck.reducer(customReducer[0], customReducer[1])\n    })\n\n    return clonedDuck\n  }\n  Object.defineProperty(duck, 'clone', { value: cloneDuck, writable: false, enumerable: true })\n}\n\n// ---- CONTEXT UPDATE -------------------------------------------------------------------\n\nfunction addContextUpdate(duck, duckFace, refDuckContext) {\n  function updateContext(newDuckContext) {\n    refDuckContext.current = newDuckContext\n    Object.defineProperty(duck, 'duckContext', {\n      value: refDuckContext.current,\n      writable: false,\n      configurable: true,\n      enumerable: true\n    })\n    Object.defineProperty(duckFace, 'duckContext', {\n      value: refDuckContext.current,\n      writable: false,\n      configurable: true,\n      enumerable: true\n    })\n  }\n  Object.defineProperty(duck, 'updateContext', { value: updateContext, writable: false, enumerable: true })\n}\n"],"mappings":"yFAAe,QAASA,KAAI,CAACC,CAAQ,CAAEC,CAAQ,CAAEC,CAAW,CAAE,IAEtDC,EAAc,CAAG,CACrBC,OAAO,CAAEF,CACX,CAAC,CAGKG,CAAQ,CAAG,CAYjB,CAAC,CAGKC,CAAa,CAAG,CAAC,CAAC,CAClBC,CAAc,CAAG,EAAE,CACnBC,CAAI,CAAG,SAAyBC,CAAK,CAAEC,CAAM,CAAE,IAC/CC,EAAc,CAAGL,CAAa,CAACI,CAAM,CAACE,IAAI,CAAC,CAC3CC,CAAY,CACd,IAAI,EAAIF,CAAc,EAAI,CAAC,GAAKA,CAAc,CAACG,QAAQ,CAACC,MAAM,CAC1DN,CAAK,CACL,CAAC,GAAKE,CAAc,CAACG,QAAQ,CAACC,MAAM,CACpCJ,CAAc,CAACG,QAAQ,CAAC,CAAC,CAAC,CAACL,CAAK,CAAEC,CAAM,CAAEL,CAAQ,CAAC,CACnDM,CAAc,CAACG,QAAQ,CAACE,MAAM,CAAC,SAACP,CAAK,CAAEQ,CAAO,CAAK,CACjD,GAAMJ,EAAY,CAAGI,CAAO,CAACR,CAAK,CAAEC,CAAM,CAAEL,CAAQ,CAAC,CACrD,MAAO,KAAI,EAAIQ,CAAY,CAAGJ,CAAK,CAAGI,CACxC,CAAC,CAAEJ,CAAK,CAAC,CAEf,MAAOF,EAAc,CAACQ,MAAM,CACxBR,CAAc,CAACS,MAAM,CAAC,SAACP,CAAK,CAAES,CAAa,CAAK,CAC9C,GACG,IAAI,EAAIA,CAAa,CAAC,CAAC,CAAC,EAAI,CAAC,GAAKR,CAAM,CAACE,IAAI,CAACO,OAAO,WAAIlB,CAAQ,EAAI,EAAE,aAAID,CAAQ,EAAI,EAAE,MAAI,EAC7F,UAAU,EAAK,MAAOkB,EAAa,CAAC,CAAC,CAAC,EAAIA,CAAa,CAAC,CAAC,CAAC,CAACR,CAAM,CAAEL,CAAQ,CAAE,CAC9E,CACA,GAAMQ,EAAY,CAAGK,CAAa,CAAC,CAAC,CAAC,CAACT,CAAK,CAAEC,CAAM,CAAEL,CAAQ,CAAC,CAC9D,MAAO,KAAI,EAAIQ,CAAY,CAAGJ,CAAK,CAAGI,CACxC,CACE,MAAOJ,EAEX,CAAC,CAAEI,CAAY,CAAC,CAChBA,CACN,CAAC,CAgCD,MA7BAO,OAAM,CAACC,cAAc,CAACb,CAAI,CAAE,UAAU,CAAE,CAAEc,KAAK,CAAEjB,CAAQ,CAAEkB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC/FJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,UAAU,CAAE,CAAEc,KAAK,CAAEtB,CAAQ,CAAEuB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC/FJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,UAAU,CAAE,CAAEc,KAAK,CAAErB,CAAQ,CAAEsB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC/FJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,aAAa,CAAE,CACzCc,KAAK,CAAEnB,CAAc,CAACC,OAAO,CAC7BmB,QAAQ,GAAO,CACfE,YAAY,GAAM,CAClBD,UAAU,GACZ,CAAC,CAAC,CAGFJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,QAAQ,CAAE,CAAEiB,KAAK,CAAEd,CAAI,CAAEe,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC7FJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,UAAU,CAAE,CAAEiB,KAAK,CAAEtB,CAAQ,CAAEuB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CACnGJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,UAAU,CAAE,CAAEiB,KAAK,CAAErB,CAAQ,CAAEsB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CACnGJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,aAAa,CAAE,CAC7CiB,KAAK,CAAEnB,CAAc,CAACC,OAAO,CAC7BmB,QAAQ,GAAO,CACfE,YAAY,GAAM,CAClBD,UAAU,GACZ,CAAC,CAAC,CAGFE,cAAc,CAAClB,CAAI,CAAEH,CAAQ,CAAEL,CAAQ,CAAEC,CAAQ,CAAC,CAClD0B,qBAAqB,CAACnB,CAAI,CAAEH,CAAQ,CAAC,CACrCuB,YAAY,CAACpB,CAAI,CAAEH,CAAQ,CAAC,CAC5BwB,WAAW,CAACrB,CAAI,CAAEF,CAAa,CAAEC,CAAc,CAAC,CAChDuB,UAAU,CAACtB,CAAI,CAAEF,CAAa,CAAEC,CAAc,CAAC,CAC/CwB,gBAAgB,CAACvB,CAAI,CAAEH,CAAQ,CAAEF,CAAc,CAAC,CAEzCK,CACT,CAIA,QAASkB,eAAc,CAAClB,CAAI,CAAEH,CAAQ,CAAEL,CAAQ,CAAEC,CAAQ,CAAE,CAE1D,QAAS+B,EAAa,CAACC,CAAU,CAAE,CACjC,GAAMC,EAAc,WAAMjC,CAAQ,EAAI,EAAE,aAAID,CAAQ,EAAI,EAAE,aAAIiC,CAAU,CAAE,CAC1E,MAAO,IAAI,GAAKA,CAAU,CAACE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CACtCD,CAAc,CACdE,CAAW,CAACH,CAAU,CAAC,EACrBb,MAAM,CAACC,cAAc,CAACe,CAAW,CAAEH,CAAU,CAAE,CAC7CX,KAAK,CAAEY,CAAc,CACrBX,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,CAACS,CAAU,CACrB,CACA,QAASI,EAAe,EAAG,CACzB,MAAOjB,OAAM,CAACkB,IAAI,CAACF,CAAW,CAChC,CAdA,GAAMA,EAAW,CAAG,CAAC,CAAC,CAgBtBhB,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,aAAa,CAAE,CAAEc,KAAK,CAAEc,CAAW,CAAEb,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CACrGJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,eAAe,CAAE,CAAEc,KAAK,CAAEU,CAAa,CAAET,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CACzGJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,iBAAiB,CAAE,CAAEc,KAAK,CAAEe,CAAe,CAAEd,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAE7GJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,aAAa,CAAE,CAAEiB,KAAK,CAAEc,CAAW,CAAEb,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CACzGJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,eAAe,CAAE,CAAEiB,KAAK,CAAEU,CAAa,CAAET,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC7GJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,iBAAiB,CAAE,CAAEiB,KAAK,CAAEe,CAAe,CAAEd,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAClH,CAIA,QAASG,sBAAqB,CAACnB,CAAI,CAAEH,CAAQ,CAAE,CAC7C,QAASkC,EAAiB,CAACC,CAAU,CAA8D,CAKjG,QAASC,EAAe,CAACC,CAAO,CAAE,IAC1BC,EAAO,CAAGD,CAAO,WAAYE,MAAK,CAClClC,CAAM,CAAG,CACbE,IAAI,CAAEsB,CAAc,CACpBQ,OAAO,CAAE,CAACC,CAAO,EAAIE,CAAc,CAAGA,CAAc,CAACH,CAAO,CAAErC,CAAQ,CAAC,CAAGqC,CAAO,CACjFI,KAAK,CAAEH,CACT,CAAC,CACD,MAAOI,EAAiB,CAAGA,CAAiB,CAACrC,CAAM,CAAEL,CAAQ,CAAC,CAAGK,CACnE,CAAC,GAboCuB,EAAU,wDAAGO,CAAU,CAAEK,CAAc,wCAAEE,CAAiB,wCAC/F,GAAI,QAAQ,EAAK,MAAOd,EAAU,EAAI,CAACA,CAAU,CAC/C,KAAM,IAAIW,MAAK,CAAC,gEAAgE,CAAC,CAEnF,GAAMV,EAAc,CAAG1B,CAAI,CAACwB,aAAa,CAACC,CAAU,CAAC,CA+BrD,MArBAb,OAAM,CAACC,cAAc,CAACoB,CAAe,CAAE,YAAY,CAAE,CAAEnB,KAAK,CAAEY,CAAc,CAAEX,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAClHJ,MAAM,CAACC,cAAc,CAACoB,CAAe,CAAE,gBAAgB,CAAE,CAAEnB,KAAK,CAAEW,CAAU,CAAEV,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAClHJ,MAAM,CAACC,cAAc,CAACoB,CAAe,CAAE,gBAAgB,CAAE,CACvDnB,KAAK,CAAEuB,CAAc,CACrBtB,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,CACFJ,MAAM,CAACC,cAAc,CAACoB,CAAe,CAAE,mBAAmB,CAAE,CAC1DnB,KAAK,CAAEyB,CAAiB,CACxBxB,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,CAEEgB,CAAU,EAAI,QAAQ,EAAK,MAAOA,EAAU,GAC9CpB,MAAM,CAACC,cAAc,CAACoB,CAAe,CAAE,YAAY,CAAE,CAAEnB,KAAK,CAAEkB,CAAU,CAAEjB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAC9GJ,MAAM,CAACC,cAAc,CAACkB,CAAiB,CAAEC,CAAU,CAAE,CACnDlB,KAAK,CAAEmB,CAAe,CACtBlB,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,EAEGiB,CACT,CAEArB,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,QAAQ,CAAE,CAAEc,KAAK,CAAEiB,CAAiB,CAAEhB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAEtGJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,QAAQ,CAAE,CAAEiB,KAAK,CAAEiB,CAAiB,CAAEhB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAC3G,CAIA,QAASI,aAAY,CAACpB,CAAI,CAAEH,CAAQ,CAAE,CACpC,GAAM2C,EAAS,CAAG,CAAC,CAAC,CA4BpB5B,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,UAAU,CAAE,CAAEc,KAAK,CA3B/C,SAAqB2B,CAAY,CAAEC,CAAQ,CAAE,CAC3C,GAAI,UAAU,EAAK,MAAOA,EAAQ,CAAE,CAClC,GAAMC,EAAmB,CAAG,UAAmB,4BAANC,CAAI,sBAAJA,CAAI,iBAC3C,MAAOF,EAAQ,CAACG,KAAK,CAAC,IAAI,WAAMD,CAAI,EAAE/C,CAAQ,GAChD,CAAC,CAkBD,MAjBAe,OAAM,CAACC,cAAc,CAAC8B,CAAmB,CAAE,kBAAkB,CAAE,CAC7D7B,KAAK,CAAE4B,CAAQ,CACf3B,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,CACEyB,CAAY,GACd7B,MAAM,CAACC,cAAc,CAAC8B,CAAmB,CAAE,cAAc,CAAE,CACzD7B,KAAK,CAAE2B,CAAY,CACnB1B,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,CACFJ,MAAM,CAACC,cAAc,CAAC2B,CAAS,CAAEC,CAAY,CAAE,CAC7C3B,KAAK,CAAE6B,CAAmB,CAC1B5B,QAAQ,GAAO,CACfC,UAAU,GACZ,CAAC,CAAC,EAEG2B,CACT,CACE,KAAM,IAAIP,MAAK,CAAC,wDAAwD,CAE5E,CAC4D,CAAErB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAClGJ,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,QAAQ,CAAE,CAAEc,KAAK,CAAE0B,CAAS,CAAEzB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAAC,CAE9FJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,QAAQ,CAAE,CAAEiB,KAAK,CAAE0B,CAAS,CAAEzB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CACnG,CAIA,QAASK,YAAW,CAACrB,CAAI,CAAEF,CAAa,CAAEC,CAAc,CAAE,CAwBxDa,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,SAAS,CAAE,CAAEc,KAAK,CAvB9C,SAAoBW,CAAU,CAAEhB,CAAO,CAAE,CACvC,GAAI,UAAU,EAAK,MAAOA,EAAO,CAAE,CACjC,GAAI,QAAQ,EAAK,MAAOgB,EAAU,CAAE,CAClC,GAAMC,EAAc,CAAG1B,CAAI,CAACwB,aAAa,CAACC,CAAU,CAAC,CAChD3B,CAAa,CAAC4B,CAAc,CAAC,GAChC5B,CAAa,CAAC4B,CAAc,CAAC,CAAG,CAC9BD,UAAU,CAAVA,CAAU,CACVnB,QAAQ,CAAE,EACZ,CAAC,EAEHR,CAAa,CAAC4B,CAAc,CAAC,CAACpB,QAAQ,CAACwC,IAAI,CAACrC,CAAO,CACrD,CAAC,IAAM,IAAI,UAAU,EAAK,MAAOgB,EAAU,CACzC1B,CAAc,CAAC+C,IAAI,CAAC,CAACrB,CAAU,CAAEhB,CAAO,CAAC,CAAC,KACrC,IAAI,IAAI,EAAIgB,CAAU,CAC3B1B,CAAc,CAAC+C,IAAI,CAAC,CAAC,IAAI,CAAErC,CAAO,CAAC,CAAC,KAEpC,MAAM,IAAI2B,MAAK,CAAC,uEAAuE,CAAC,CAE1F,MAAO3B,EACT,CACE,KAAM,IAAI2B,MAAK,CAAC,oDAAoD,CAExE,CAC0D,CAAErB,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CACjG,CAIA,QAASM,WAAU,CAACtB,CAAI,CAAEF,CAAa,CAAEC,CAAc,CAAE,CAuCvDa,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,OAAO,CAAE,CAAEc,KAAK,CAtC5C,SAAmBtB,CAAQ,CAAEC,CAAQ,CAAEC,CAAW,CAAE,CAClD,GAAMqD,EAAU,CAAGxD,IAAI,CAACC,CAAQ,CAAEC,CAAQ,CAAEC,CAAW,CAAC,CAmCxD,MAjCAM,EAAI,CAAC6B,eAAe,EAAE,CAACmB,OAAO,CAAC,SAAUvB,CAAU,CAAE,CACnDsB,CAAU,CAACvB,aAAa,CAACC,CAAU,CACrC,CAAC,CAAC,CAGFb,MAAM,CAACkB,IAAI,CAAC9B,CAAI,CAACE,MAAM,CAAC,CAAC8C,OAAO,CAAC,SAAAhB,CAAU,CAAI,CAC7C,GAAMD,EAAiB,CAAG/B,CAAI,CAACE,MAAM,CAAC8B,CAAU,CAAC,CAC7C,UAAU,EAAK,MAAOD,EAAiB,EAAIA,CAAiB,CAACN,UAAU,EACzEsB,CAAU,CAAC7C,MAAM,CAAC8B,CAAU,CAAED,CAAiB,CAACkB,cAAc,CAElE,CAAC,CAAC,CAGFrC,MAAM,CAACkB,IAAI,CAAC9B,CAAI,CAACkD,MAAM,CAAC,CAACF,OAAO,CAAC,SAAAP,CAAY,CAAI,CAC3CzC,CAAI,CAACkD,MAAM,CAACT,CAAY,CAAC,CAACU,gBAAgB,EAC5CJ,CAAU,CAACL,QAAQ,CAACD,CAAY,CAAEzC,CAAI,CAACkD,MAAM,CAACT,CAAY,CAAC,CAACU,gBAAgB,CAEhF,CAAC,CAAC,CAGFvC,MAAM,CAACkB,IAAI,CAAChC,CAAa,CAAC,CAACkD,OAAO,CAAC,SAAAI,CAAiB,CAAI,CACtD,GAAMjD,EAAc,CAAGL,CAAa,CAACsD,CAAiB,CAAC,CACvD,GAAIjD,CAAc,CAAE,CAClB,GAAQsB,EAAU,CAAetB,CAAc,CAAvCsB,UAAU,CAAEnB,CAAQ,CAAKH,CAAc,CAA3BG,QAAQ,CAC5BA,CAAQ,CAAC0C,OAAO,CAAC,SAAAvC,CAAO,CAAI,CAC1BsC,CAAU,CAACtC,OAAO,CAACgB,CAAU,CAAEhB,CAAO,CACxC,CAAC,CACH,CACF,CAAC,CAAC,CACFV,CAAc,CAACiD,OAAO,CAAC,SAAAtC,CAAa,CAAI,CACtCqC,CAAU,CAACtC,OAAO,CAACC,CAAa,CAAC,CAAC,CAAC,CAAEA,CAAa,CAAC,CAAC,CAAC,CACvD,CAAC,CAAC,CAEKqC,CACT,CACuD,CAAEhC,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAC9F,CAIA,QAASO,iBAAgB,CAACvB,CAAI,CAAEH,CAAQ,CAAEF,CAAc,CAAE,CAgBxDiB,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,eAAe,CAAE,CAAEc,KAAK,CAfpD,SAAuBuC,CAAc,CAAE,CACrC1D,CAAc,CAACC,OAAO,CAAGyD,CAAc,CACvCzC,MAAM,CAACC,cAAc,CAACb,CAAI,CAAE,aAAa,CAAE,CACzCc,KAAK,CAAEnB,CAAc,CAACC,OAAO,CAC7BmB,QAAQ,GAAO,CACfE,YAAY,GAAM,CAClBD,UAAU,GACZ,CAAC,CAAC,CACFJ,MAAM,CAACC,cAAc,CAAChB,CAAQ,CAAE,aAAa,CAAE,CAC7CiB,KAAK,CAAEnB,CAAc,CAACC,OAAO,CAC7BmB,QAAQ,GAAO,CACfE,YAAY,GAAM,CAClBD,UAAU,GACZ,CAAC,CACH,CACmE,CAAED,QAAQ,GAAO,CAAEC,UAAU,GAAO,CAAC,CAC1G"}