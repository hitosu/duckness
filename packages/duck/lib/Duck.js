"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Duck;function Duck(a,b,c){var d={},e={},f=[],g=function(a,b){var g=e[b.type],h=null==g||0===g.length?a:1===g.length?g.reducers[0](a,b,d,c):g.reducers.reduce(function(a,e){var f=e(a,b,d,c);return null==f?a:f},a);return f.length?f.reduce(function(a,e){if(null==e[0]||e[0](b,c)){var f=e[1](a,b,d,c);return null==f?a:f}return a},h):h};return Object.defineProperty(g,"duckFace",{value:d,writable:!1,enumerable:!0}),Object.defineProperty(g,"duckName",{value:a,writable:!1,enumerable:!0}),Object.defineProperty(g,"poolName",{value:b,writable:!1,enumerable:!0}),Object.defineProperty(g,"duckContext",{value:c,writable:!1,enumerable:!0}),Object.defineProperty(d,"reduce",{value:g,writable:!1,enumerable:!0}),Object.defineProperty(d,"duckName",{value:a,writable:!1,enumerable:!0}),Object.defineProperty(d,"poolName",{value:b,writable:!1,enumerable:!0}),Object.defineProperty(d,"duckContext",{value:c,writable:!1,enumerable:!0}),addActionTypes(g,d,a,b),addActionConstructors(g,d,c),addSelectors(g,d,c),addReducers(g,e,f),addCloning(g,e,f),g}function addActionTypes(a,b,c,d){var e={};Object.defineProperty(a,"actionTypes",{value:e,writable:!1,enumerable:!0}),Object.defineProperty(a,"mapActionType",{value:function(a){return e[a]||Object.defineProperty(e,a,{value:(d||"")+"/"+(c||"")+"/"+a,writable:!1,enumerable:!0})[a]},writable:!1,enumerable:!0}),Object.defineProperty(a,"listActionTypes",{value:function(){return Object.keys(e)},writable:!1,enumerable:!0}),Object.defineProperty(b,"actionTypes",{value:e,writable:!1,enumerable:!0})}function addActionConstructors(a,b,c){function d(b,e,f,g){function h(a){var b=a instanceof Error,d={type:i,payload:!b&&f?f(a,c):a,error:b};return g?g(d,c):d}var i=a.mapActionType(e);return Object.defineProperty(h,"actionType",{value:e,writable:!1,enumerable:!0}),Object.defineProperty(h,"payloadBuilder",{value:f,writable:!1,enumerable:!0}),Object.defineProperty(h,"actionTransformer",{value:g,writable:!1,enumerable:!0}),b&&(Object.defineProperty(h,"actionName",{value:b,writable:!1,enumerable:!0}),Object.defineProperty(d,b,{value:h,writable:!1,enumerable:!0})),h}Object.defineProperty(a,"action",{value:d,writable:!1,enumerable:!0}),Object.defineProperty(b,"action",{value:d,writable:!1,enumerable:!0})}function addSelectors(a,b,c){var d={};Object.defineProperty(a,"selector",{value:function(a,e){if(a&&"function"==typeof e){var f=function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return e.apply(this,[].concat(d,[b,c]))};Object.defineProperty(f,"selectorName",{value:a,writable:!1,enumerable:!0}),Object.defineProperty(f,"originalSelector",{value:e,writable:!1,enumerable:!0}),Object.defineProperty(d,a,{value:f,writable:!1,enumerable:!0})}},writable:!1,enumerable:!0}),Object.defineProperty(a,"select",{value:d,writable:!1,enumerable:!0}),Object.defineProperty(b,"select",{value:d,writable:!1,enumerable:!0})}function addReducers(a,b,c){Object.defineProperty(a,"reducer",{value:function(d,e){if("function"==typeof e)if("string"==typeof d){var f=a.mapActionType(d);b[f]||(b[f]={actionType:d,reducers:[]}),b[f].reducers.push(e)}else"function"==typeof d?c.push([d,e]):null==d&&c.push([null,e])},writable:!1,enumerable:!0})}function addCloning(a,b,c){Object.defineProperty(a,"clone",{value:function(d,e,f){var g=Duck(d,e,f);return a.listActionTypes().forEach(function(a){g.mapActionType(a)}),Object.keys(a.action).forEach(function(b){var c=a.action[b];"function"==typeof c&&c.actionType&&g.action(b,c.actionType)}),Object.keys(a.select).forEach(function(b){a.select[b].originalSelector&&g.selector(b,a.select[b].originalSelector)}),Object.keys(b).forEach(function(a){var c=b[a];if(c){var d=c.actionType,e=c.reducers;e.forEach(function(a){g.reducer(d,a)})}}),c.forEach(function(a){g.reducer(a[0],a[1])}),g},writable:!1,enumerable:!0})}