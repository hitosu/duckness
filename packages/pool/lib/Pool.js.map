{"version":3,"sources":["../src/Pool.js"],"names":["initDucksStream","Object","freeze","afterBuild","refStore","refDucks","refProps","current","forEach","duck","dispatch","type","mapActionType","payload","Pool","reportError","refErrorReporter","build","props","refReducers","root","buildRootReducer","state","action","preState","pre","ducksReducedState","reduce","error","poolName","duckName","dispatchedAction","post","refStreams","stream","beforeBuild","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","x","middlewares","streamMiddlewares","concat","refMiddlewares","enhancer","applyMiddleware","buildStore","initProps","ducks","initDucks","initMiddlewares","streams","initStreams","console","pool","defineProperty","value","push","writable","enumerable","middleware","unshift","reducer","reporter","get","Error","stateOrAction","andAction","getState"],"mappings":"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","sourcesContent":["import { createStore, applyMiddleware } from 'redux'\n\n// this pool stream will send @@INIT action to every registered duck after build\nconst initDucksStream = Object.freeze({\n  afterBuild({ refStore, refDucks, refProps } = {}) {\n    refDucks.current.forEach(duck => {\n      refStore.current.dispatch({ type: duck.mapActionType('@@INIT'), payload: refProps.current })\n    })\n  }\n})\n\n// POOL\nexport default function Pool({\n  props: initProps = {},\n  ducks: initDucks = [],\n  middlewares: initMiddlewares = [],\n  streams: initStreams = [],\n  buildStore = () => {\n    return {}\n  },\n  buildRootReducer\n} = {}) {\n  const refProps = { current: initProps || {} }\n  const refDucks = { current: initDucks || [] }\n  const refStreams = { current: [...(initStreams || []), initDucksStream] }\n  const refMiddlewares = { current: initMiddlewares || [] }\n  const refErrorReporter = { current: ('undefined' !== typeof console && console.error) || (() => {}) } // eslint-disable-line no-console\n\n  function addDuck(duck) {\n    refDucks.current.push(duck)\n  }\n\n  function addMiddleware(middleware) {\n    refMiddlewares.current.push(middleware)\n  }\n\n  function addStream(stream) {\n    refStreams.current.unshift(stream)\n  }\n\n  function setErrorReporter(reporter) {\n    refErrorReporter.current = reporter\n  }\n\n  function reportError(...args) {\n    if ('function' === typeof refErrorReporter.current) {\n      refErrorReporter.current(...args)\n    }\n  }\n\n  const refStore = { current: null }\n  function dispatch(action) {\n    if (refStore.current) {\n      refStore.current.dispatch(action)\n    } else {\n      const error = new Error('Received action dispatch but pool is not built yet')\n      error.dispatchedAction = action\n      reportError(error, '@duckness/pool', 'dispatch', action)\n    }\n  }\n\n  const refReducers = { root: null, pre: null, post: null }\n  function reduce(stateOrAction, andAction) {\n    if (void 0 === andAction && !refStore.current) {\n      const error = new Error('Reducing state but pool is not built yet')\n      error.dispatchedAction = stateOrAction\n      reportError(error, '@duckness/pool', 'reduce', stateOrAction)\n      return stateOrAction\n    }\n    const state = void 0 === andAction ? refStore.current.getState() : stateOrAction\n    const action = void 0 === andAction ? stateOrAction : andAction\n    if (refReducers.root) {\n      return refReducers.root(state, action)\n    } else {\n      const error = new Error('Reducing state but pool is not built yet')\n      error.dispatchedAction = action\n      reportError(error, '@duckness/pool', 'reduce', action)\n      return state\n    }\n  }\n\n  function setPreReducer(reducer) {\n    refReducers.pre = (state, action) => {\n      try {\n        return reducer(state, action)\n      } catch (error) {\n        try {\n          error.dispatchedAction = action\n        } catch {\n          // skip\n        }\n        reportError(error, '@duckness/pool', 'pre reducer')\n        return state\n      }\n    }\n  }\n  function setPostReducer(reducer) {\n    refReducers.post = (state, action) => {\n      try {\n        return reducer(state, action)\n      } catch (error) {\n        try {\n          error.dispatchedAction = action\n        } catch {\n          // skip\n        }\n        reportError(error, '@duckness/pool', 'post reducer')\n        return state\n      }\n    }\n  }\n\n  function build(props = refProps.current) {\n    // save props\n    refProps.current = props || {}\n\n    // build root reducer\n    refReducers.root = buildRootReducer\n      ? buildRootReducer(refDucks.current, { refProps, refReducers, refDucks, refErrorReporter })\n      : function defaultRootReducer(state, action) {\n          // pre reducer\n          const preState = refReducers.pre ? refReducers.pre(state, action) : state\n          // duck reducers\n          const ducksReducedState = refDucks.current.reduce((state, duck) => {\n            try {\n              return duck(state, action)\n            } catch (error) {\n              try {\n                error.poolName = duck.poolName\n                error.duckName = duck.duckName\n                error.dispatchedAction = action\n              } catch {\n                // skip\n              }\n              reportError(error, '@duckness/pool', 'reducer', duck.poolName, duck.duckName)\n              return state\n            }\n          }, preState)\n          // post reducer\n          return refReducers.post ? refReducers.post(ducksReducedState, action) : ducksReducedState\n        }\n\n    // invoke beforeBuild for each pool stream\n    refStreams.current.forEach(stream => {\n      if (stream.beforeBuild) stream.beforeBuild({ refDucks, refProps, refReducers, refErrorReporter })\n    })\n\n    // compose redux middlewares\n    const composeEnhancers =\n      typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n        : x => x\n    const middlewares = [\n      ...refStreams.current.reduce(\n        (streamMiddlewares, stream) =>\n          stream.middlewares\n            ? streamMiddlewares.concat(stream.middlewares({ refDucks, refProps, refReducers, refErrorReporter }) || [])\n            : streamMiddlewares,\n        []\n      ),\n      ...refMiddlewares.current\n    ]\n    const enhancer = composeEnhancers(applyMiddleware(...middlewares))\n\n    // create store\n    refStore.current = createStore(\n      refReducers.root,\n      buildStore ? buildStore(refProps.current, { refProps, refDucks, refReducers, refErrorReporter }) || {} : {},\n      enhancer\n    )\n\n    // invoke afterBuild for each pool stream\n    refStreams.current.forEach(stream => {\n      if (stream.afterBuild) stream.afterBuild({ refStore, refDucks, refProps, refReducers, refErrorReporter })\n    })\n\n    // return redux store\n    return refStore.current\n  }\n\n  const pool = {}\n\n  Object.defineProperty(pool, 'addDuck', { value: addDuck, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'addMiddleware', { value: addMiddleware, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'addStream', { value: addStream, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'preReducer', { value: setPreReducer, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'postReducer', { value: setPostReducer, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'build', { value: build, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'reportError', { value: reportError, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'setErrorReporter', { value: setErrorReporter, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'store', {\n    get() {\n      return refStore.current\n    },\n    enumerable: true\n  })\n  Object.defineProperty(pool, 'dispatch', { value: dispatch, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'reduce', { value: reduce, writable: false, enumerable: true })\n  Object.defineProperty(pool, 'ducks', {\n    get() {\n      return [...(refDucks.current || [])]\n    },\n    enumerable: true\n  })\n  Object.defineProperty(pool, 'middlewares', {\n    get() {\n      return [...(refMiddlewares.current || [])]\n    },\n    enumerable: true\n  })\n  Object.defineProperty(pool, 'streams', {\n    get() {\n      return [...(refStreams.current || [])]\n    },\n    enumerable: true\n  })\n  Object.defineProperty(pool, 'props', {\n    get() {\n      return { ...(refProps.current || {}) }\n    },\n    enumerable: true\n  })\n\n  return pool\n}\n"],"file":"Pool.js"}